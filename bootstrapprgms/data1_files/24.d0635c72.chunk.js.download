(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"1I2J":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("ERkP");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r=a.createElement("path",{fill:"#9DA9B0",fillRule:"nonzero",d:"M7.92 11.13c-1.94 0-3.5-1.37-3.5-3.46 0-2.1 1.56-3.45 3.5-3.45 1.3 0 2.15.62 2.68 1.38l-.95.55c-.36-.5-.99-.89-1.73-.89-1.32 0-2.3 1-2.3 2.41 0 1.39.98 2.41 2.3 2.41.68 0 1.28-.31 1.58-.6V8.45h-2V7.42h3.16v2.49c-.65.73-1.59 1.22-2.74 1.22zm5.016-.13h-1.17V4.33h1.17V11zm2.475 0h-1.17V4.33h4.57v1.03h-3.4v1.72h3.33v1.03h-3.33V11zM3 0h17a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm0 1.3A1.7 1.7 0 0 0 1.3 3v10A1.7 1.7 0 0 0 3 14.7h17a1.7 1.7 0 0 0 1.7-1.7V3A1.7 1.7 0 0 0 20 1.3H3z"});function SvgGif(e,t){return a.createElement("svg",_extends({width:23,height:16,viewBox:"0 0 23 16",ref:t},e),r)}var c=a.forwardRef(SvgGif);n.p},"97O6":function(e,t){e.exports="data:image/png;base64,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"},NCI6:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("mj2O"),r=n.n(a),c=n("7SM1"),i=n("7oto"),s=function(){var e=Object(c.a)(r.a.mark(function _callee(){var e,t,n,a,c=arguments;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:"",r.next=3,Object(i.a)({topic:"access-host-window",message:{key:"location"}});case 3:return t=r.sent,n=t.data,a=void 0===n?{}:n,r.abrupt("return","https://drift.com?utm_source=".concat(a.host,"&utm_medium=web-widget&utm_campaign=widget-referral&utm_content=").concat(e));case 7:case"end":return r.stop()}},_callee)}));return function getDriftUrl(){return e.apply(this,arguments)}}()},SrLZ:function(e,t,n){"use strict";n.r(t);var a=n("mj2O"),r=n.n(a),c=n("7SM1"),i=n("s8DI"),s=n("OE2q"),o=n("mssF"),u=n("O94r"),l=n.n(u),f=n("Rqwx"),d=n("fTFZ"),b=n("vkRn"),v=n("CwrG"),O=n("8eKL"),p=n("slYP"),m=n("BY8A"),j=n("+/Je"),A=n("fw6E"),g=n("1b8i"),h=n("fpJs"),E=n("Sn8X"),w=n("fJrp"),C=n("lE29"),R=n("+Kbs"),S=n("nQD+"),M=n("sxX9"),B=n("6wvX"),y=n("2uLe"),D=n("g6eD"),N=n("ERkP"),x=n.n(N),T=n("uDfI"),k=(n("SwvN"),function HeaderLayout(e){var t=e.activeConversation,n=e.chatHidden,a=Object(T.b)(),r=Object(C.a)(),c=r.backgroundStyles,s=r.conversationHeaderTextStyles,o=Object(T.c)(function(e){return e.campaigns.activeCampaign}).id,u=Object(T.c)(function(e){return e.session.gdpr}).hasConsent,f=Object(B.a)(),d=Object(y.a)(),b=d.setChatHeight,v=d.previewRef,O=Object(T.c)(function(e){return e.view}).chatOpen,p=Object(N.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return u?e?M.b.CONVERSATION:o?M.b.WELCOME_MESSAGE:M.b.GREETING:M.b.GDPR},[t,u,o]),m=Object(N.useState)(p()),j=Object(i.a)(m,2),A=j[0],g=j[1],h=Object(w.a)(A),E=A!==h;Object(N.useLayoutEffect)(function(){O&&!n&&b(O,E)},[O,n,b,E]),Object(N.useEffect)(function(){var e=p(t);e!==A&&g(e)},[t,o,u,p,A]);var k=M.a[A],I=A!==M.b.CONVERSATION;return x.a.createElement("header",{className:l()("drift-widget-header",{"drift-widget-header--collapsed":I})},x.a.createElement("div",{className:"drift-widget-header-top-line",style:c}),x.a.createElement("div",{className:"drift-widget-header--content"},x.a.createElement(k,{previewRef:v})),f&&x.a.createElement(S.a,{onClick:function doToggleChat(){a(Object(D.a)({chatOpen:!1}))},className:"drift-widget-mobile-close","aria-label":"Close chat",style:s},x.a.createElement(R.j,{width:16,height:16})))}),I=n("SsZN"),P=n("vjCh"),F=n("K7i0"),L=n("bYXQ"),V=n("da4L"),U=n("LVcX"),Z=n("TbSn"),_=n("kNJ0"),z=n("oPI6"),H=n("MFhO"),W=n("6lNa"),Q=n("0lfv"),G=n("VpmR"),X=n("7oto"),q=n("HSQL"),K=(n("sXTY"),null),Y=function ChatLayout(){var e=Object(T.b)(),t=Object(N.useState)(!0),n=Object(i.a)(t,2),a=n[0],u=n[1],f=Object(N.useState)(!1),R=Object(i.a)(f,2),S=R[0],M=R[1];Object(E.a)();var B=Object(T.c)(function(e){return e.view}).chatOpen,y=Object(T.c)(function(e){return e.conversations.activeConversation}),D=Object(w.a)(y),z=Object(T.c)(function(e){return e.conversations.conversations}),G=Object(T.c)(function(e){return e.conversations.messages}),Y=Object(T.c)(function(e){return Object(U.a)({},["conversations","messages",e.conversations.activeConversation],e)}),J=Object(T.c)(function(e){return Object(U.a)(!1,["conversations","conversationStatus",e.conversations.activeConversation,"permaclosed"],e)}),$=Object(N.useMemo)(function(){return Object(V.n)(Y)},[Y]),ee=Object(T.c)(function(e){return e.campaigns.activeCampaign}),te=Object(N.useMemo)(function(){return Object(U.a)(null,["attributes","campaignDisplayType"],ee)===H.a.WELCOME_MESSAGE},[ee]),ne=Object(T.c)(function(e){return e.session.gdpr}).hasConsent,ae=Object(A.a)(),re=ae.conversationHistoryOpen,ce=ae.conversationHistoryEnabled,ie=Object(C.a)().widgetBackgroundStyles,se=Object(N.useCallback)(function(){var t=Object(c.a)(r.a.mark(function _callee(t){var n,a,c,i,s,u;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.limit,a=void 0===n?30:n,c=t.from,i=void 0===c?null:c,y&&y!==j.a){r.next=3;break}return r.abrupt("return");case 3:return r.prev=3,r.next=6,Object(o.d)({conversationId:y,limit:a,from:i});case 6:return s=r.sent,u=s.data,e(Object(F.j)({messages:u.data,hasMoreMessages:Object(U.a)(!1,["pagination","more"],u),nextPageMessageId:Object(U.a)(null,["pagination","next"],u),conversationId:y})),r.abrupt("return",u);case 12:r.prev=12,r.t0=r.catch(3),Object(Q.e)("Failed to fetch messages",r.t0);case 15:case"end":return r.stop()}},_callee,null,[[3,12]])}));return function(e){return t.apply(this,arguments)}}(),[y,e]);Object(N.useEffect)(function(){(function(){var t=Object(c.a)(r.a.mark(function _callee2(){var t,n,a,c,i;return r.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(t=!y||y===j.a,n=D===y,a=!!z[y]&&!!G[y],!(t||n||a||Object(L.c)(y))){r.next=5;break}return r.abrupt("return");case 5:return r.prev=5,r.next=8,Object(s.f)(y);case 8:c=r.sent,i=c.data,e(Object(F.g)({conversation:i})),se({}),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(5),Object(Q.e)("Failed to fetch messages or active conversation",r.t0);case 17:case"end":return r.stop()}},_callee2,null,[[5,14]])}));return function fetchInfoForActiveConversation(){return t.apply(this,arguments)}})()()},[y,e,se,D,z,G]),Object(N.useEffect)(function(){B?(function(){var e=Object(c.a)(r.a.mark(function _callee3(){return r.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)({topic:"focus-frame",message:{name:"chat"}});case 2:case"end":return e.stop()}},_callee3)}));return function focus(){return e.apply(this,arguments)}}()(),K&&clearTimeout(K),u(!1)):K=setTimeout(function delaySetReflowHidden(){u(!0)},300)},[B]),Object(N.useEffect)(function(){if(ee.id&&!y){var e=!!Object(U.a)(null,["attributes","cta"],ee),t="CHAT_RESPONSE"!==Object(U.a)(null,["attributes","cta","CtaType"],ee);e&&t&&M(!0)}else M(!1)},[ee,y,e]),Object(N.useEffect)(function(){Object(q.b)("WIDGET_CHAT_FRAME.start")},[]);var oe=Object(N.useMemo)(function(){if(J)return d.a.UNAVAILABLE;var e=Object(Z.a)($);if(!e)return d.a.AVAILABLE;var t=Object(_.a)(-2,$);return Object(V.f)(e)||Object(V.f)(t)&&Object(V.h)(e)?d.a.UNAVAILABLE_BUTTONS:Object(V.k)(e)||Object(V.k)(t)&&Object(V.h)(e)?d.a.AVAILABLE_BUTTONS:d.a.AVAILABLE},[$,J]),ue=Object(g.a)($,y),le=Object(N.useMemo)(function(){return Object(V.d)(ue)},[ue]),fe=Object(N.useMemo)(function(){return x.a.createElement(O.a,{activeConversation:y,messageGroups:le,messages:ue,fetchMessages:se,reflowHidden:a,disabled:re})},[y,le,ue,se,a,re]),de=Object(h.a)(),be=Object(N.useMemo)(function(){if(ue&&ue.length){var e=Object(Z.a)(ue);if(e&&Object(V.j)(e))return e}return null},[ue]);return x.a.createElement("main",{className:"drift-widget-chat-layout",role:"main","aria-label":"Chat window"},x.a.createElement(m.a,null),x.a.createElement("div",{className:l()("drift-widget-chat-wrapper",{"drift-widget-chat-wrapper__open":B,"drift-widget-chat-wrapper__closed":!B,"drift-widget-chat-wrapper__reflow-hidden":a,"drift-widget-chat-wrapper__active-conversation":!!y&&ne})},x.a.createElement(k,{activeConversation:y,chatHidden:a}),ce&&x.a.createElement(b.a,null),y&&ne&&x.a.createElement("div",{className:l()("drift-widget-message-history",{"drift-widget-message-history--with-footer":de}),style:ie},fe),x.a.createElement("div",{className:"drift-widget-chat-bottom"},!S&&ne&&x.a.createElement(d.b,{state:oe,disabled:re,onSubmit:function doSendMessage(t){if(te&&!y){var n=Object(U.a)(null,["attributes","playbookId"],ee);!function sendSubmittedEventForChatResponseCampaign(){ee&&"CHAT_RESPONSE"===Object(U.a)(null,["attributes","cta","CtaType"],ee)&&Object(I.c)(W.b.SUBMITTED,ee.id)}(),Object(P.g)(ee.id,n)}e(Object(F.m)(t))},chatHidden:a,activeConversationId:y}),x.a.createElement(v.a,null)),y&&!!be&&x.a.createElement(p.a,{message:be})))};t.default=function(e){var t=Object(N.useState)(!1),n=Object(i.a)(t,2),a=n[0],s=n[1],o=Object(T.c)(function(e){return e.view.initComplete}),u=Object(T.c)(function(e){return Object(U.a)("en",["embed","configuration","locale"],e)});return Object(N.useEffect)(function(){o&&!a&&function(){var e=Object(c.a)(r.a.mark(function _callee4(){return r.a.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.a)(u);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Q.k)({data:["i18n failed to load - ".concat(e.t0.message),e.t0],type:"warn"});case 8:s(!0);case 9:case"end":return e.stop()}},_callee4,null,[[0,5]])}));return function runAsync(){return e.apply(this,arguments)}}()()},[o,a,u]),x.a.createElement(z.a,null,o&&a?x.a.createElement(Y,e):x.a.createElement(f.a,null))}},SwvN:function(e,t,n){},hNWd:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("ERkP");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r=a.createElement("path",{fill:"#9DA9B0",fillRule:"evenodd",d:"M8 16c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zM8 1.333A6.674 6.674 0 0 0 1.333 8 6.674 6.674 0 0 0 8 14.667 6.674 6.674 0 0 0 14.667 8 6.674 6.674 0 0 0 8 1.333zm0 12c-1.942 0-3.705-1.167-4.601-3.046A.666.666 0 1 1 4.6 9.713C5.275 11.123 6.577 12 8 12c1.431 0 2.733-.875 3.397-2.285a.666.666 0 1 1 1.206.57c-.886 1.88-2.65 3.048-4.603 3.048zM10.667 8a1.335 1.335 0 0 1-1.334-1.333 1.335 1.335 0 0 1 2.667 0C12 7.402 11.402 8 10.667 8zM5.333 8A1.335 1.335 0 0 1 4 6.667c0-.736.599-1.334 1.333-1.334a1.335 1.335 0 0 1 0 2.667z"});function SvgEmoji(e,t){return a.createElement("svg",_extends({width:16,height:16,viewBox:"0 0 16 16",ref:t},e),r)}var c=a.forwardRef(SvgEmoji);n.p},qixE:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return O});var a=n("mj2O"),r=n.n(a),c=n("7SM1"),i=n("OE2q"),s=n("QtlZ"),o=n("PCkZ"),u=n("DboL"),l=n("M7cN"),f=n("6lNa"),d=n("PjZB"),b=function(){var e=Object(c.a)(r.a.mark(function _callee(e){var t,n,a;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(e.email&&e.conversationId){r.next=2;break}return r.abrupt("return");case 2:return t={conversationId:e.conversationId,type:f.b.LEAD_CAPTURED,email:e.email,leadCapture:{email:e.email,integrations:Object(o.b)(),context:v()}},r.next=5,Object(i.h)(t);case 5:return n=r.sent,a=n.data,r.abrupt("return",a);case 8:case"end":return r.stop()}},_callee)}));return function createLeadCapturedConversationEvent(t){return e.apply(this,arguments)}}(),v=function hydrateConversationEventContext(){var e=s.a.getState().session,t=(void 0===e?{}:e).context||{},n=t.userAgent,a=t.locale,r=t.timezone,c=t.page;return{page:void 0===c?{}:c,locale:a,timezone:r,userAgent:n}},O=function getUnreadMostRecentConversation(e,t){var n=t.sessionStarted,a=parseInt(n),r=Object(u.a)(e).filter(function(e){return p(e,a)});return r.length?Object(l.a)(function(e){return e.lastMessage.createdAt},r)[0]:null},p=function isUnreadRecentConversation(e,t){return!!e.lastMessage&&null!==e.lastReadMessage&&e.lastMessage.viewerRecipientStatus!==d.f.READ&&e.conversation.type===f.c.CHAT&&e.lastMessage.authorType===d.b.USER&&e.lastMessage.createdAt>=1e3*t}},sXTY:function(e,t,n){},vwUF:function(e,t,n){"use strict";var a,r;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),function(e){e.NONE="NONE",e.PENDING="PENDING",e.ERROR="ERROR",e.SIZE_ERROR="SIZE_ERROR"}(a||(a={})),function(e){e[e.DEFAULT=26214400]="DEFAULT"}(r||(r={}))},xNFZ:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("QtlZ"),r=n("LVcX"),c=n("0lfv"),i=function getRandomTeamMemberId(){var e=a.a.getState(),t=e.embed,n=void 0===t?{}:t,i=e.session,s=void 0===i?{}:i,o=Object(r.a)([],["configuration","team"],n);if(!o)return null;var u=o.filter(function(e){return!e.bot}).map(function(e){return e.id});return u[Object(c.f)(u.length,s.sessionStarted)]}},y0on:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("0lfv"),r=function getNewMessageAriaLabel(e,t){return Object(a.j)(t)?null:"Chat message".concat(e?" from "+e:"",': "').concat(t,'"')}}}]);